{% extends "layout.html" %}
{% block content %}
<script type="text/javascript" src="{{ url_for('static', filename = 'home.js') }}"></script>
<link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">

<script>
    let progbar = {{ progbar | tojson }}

    document.addEventListener('DOMContentLoaded', function() {
        updateProgressBar(progbar.id);
    });

    function updateProgressBar(id) {
        if (id !== 0) {
            var percentage = (id / 11) * 100;
            $('#pb').css('width', percentage + '%');
            $('#pb').text(percentage.toFixed(2) + '%');
            $('#pb').css('color', '#F5F5DC');
            $('#start-lesson').text('resume learning');
            $('#start-lesson').attr('href', '/' + progbar.section + '/' + progbar.page);
            console.log('fart');
        }
    }
</script>

<div class="header" style = "background-color: #28511c; padding: 100px; color: white; text-align: center;">
<div class="row" style="justify-content: center; padding-top: 20px; font-size: 40px; font-weight: 400; color: #F5F5DC;">
    welcome, frisbee newbie!
</div>
<div class="row" style="justify-content: center; font-size: 20px; color: #F5F5DC; text-align: center; font-family: 'Titillium Web'; font-weight: 100; margin-bottom: 20px;">
    <p>frisbee safe: an interactive website designed to teach <br> you the basic rules of contact in ultimate frisbee.</p>
</div>
<a href="/rules" id="start-lesson" class="begin-button">begin learning</a>
</div>
<div class="custom-row" style="display: flex; align-items: center;">
    <div class="col-auto">
        <h2 style="font-weight: 400; color: #28511c; width: 275px;">course breakdown:</h2>
    </div>
    <div class="col">
        <div class="progress" style="width: 100%; height: 32px; color: #F5F5DC;">
            <div class="progress-bar" role="progressbar" style="width: 27%; background-color: rgb(49,114,182); color: #F5F5DC;" aria-valuenow="33" aria-valuemin="0" aria-valuemax="100">rules of contact</div>
            <div class="progress-bar" role="progressbar" style="width: 27%; background-color: #28511c; color: #F5F5DC;" aria-valuenow="33" aria-valuemin="0" aria-valuemax="100">identifying fouls</div>
            <div class="progress-bar" role="progressbar" style="width: 46%; background-color: black; color: #F5F5DC;" aria-valuenow="34" aria-valuemin="0" aria-valuemax="100">test your knowledge</div>
        </div>
    </div>
</div>
<div class="custom-row" style="display: flex; align-items: center;">
    <div class="col-auto">
        <h2 style="font-weight: 400; color: #28511c; width: 275px;">your progress:</h2>
    </div>
    <div class="col">
        <div class="progress" style="width: 100%; height: 32px; color: #F5F5DC; overflow: hidden;">
            <div id="pb" class="progress-bar" role="progressbar" style="width: 0%; background-color: black; color: black;" aria-valuenow="34" aria-valuemin="0" aria-valuemax="100">0%</div>
        </div>
    </div>
</div>
{% endblock %}