{% extends "layout.html" %}
{% block content %}
<script type="text/javascript" src="{{ url_for('static', filename = 'home.js') }}"></script>
<link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Titillium+Web:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700&display=swap" rel="stylesheet">
<style>
    body {
        background-color: #28511c;
        color: #F5F5DC;
    }
    .content-container {
    position: relative; /* Set the container to relative positioning */
}

</style>
<script>
    let section = {{ section | tojson }}
    let description = {{ description | tojson }}
    let url = {{ url | tojson }}
    let progbar = {{ progbar | tojson }}

    document.addEventListener('DOMContentLoaded', function() {
        updateProgressBar(progbar.id);
    });

    function updateProgressBar(ruleId) {
        if (ruleId !== 0) {
            var percentage = (ruleId / 11) * 100;
            $('#pb').css('width', percentage + '%');
            $('#pb').text(percentage.toFixed(2) + '%');
            $('#pb').css('color', '#F5F5DC');
            console.log('fart');
        }
    } 

</script>

<div class="content-container">
<div class="end-zone">
    <div class="row" style="justify-content: center; padding-top: 20px;">
        <h2 style="font-weight: 400;">{{ section }}</h2>
    </div>
    <div class="row" style="justify-content: center; font-size: 16px; text-align: center; font-family: 'Titillium Web'; font-weight: 100;">
        {% set words = description.split(' ') %}
        {% for word in words %}
            {% if word.endswith(('.', ',', '!', '?', ';')) %}
            {{ word }}<br>
        {% else %}
            {{ word }}
        {% endif %}
        {% endfor %}
    </div>
    <div class="button-container" style="margin-bottom: 100px;">
        <img src="{{ url_for('static', filename='flying-person-2.png') }}" alt="flying person" class="flying-person">
        <a href="{{ url_for('section_home', section=url) }}" id="start-lesson" class="lesson-button">start</a>
    </div>
    <div class="endzone"></div>
</div>
</div>
{% endblock %}